## 概念
State在Redux中是用来管理多个组件依赖或需改变的状态的
****

## 组件定义

组件是由具有显示样式和响应用户操作的元素组成
****

## 状态定义
状态是内存中需要随时改变的数据
****

## 组件对状态的依赖和影响

* 依赖：组件的显示形态由依赖的状态决定
* 影响：用户在组件上的操作决定状态的变化
****

## 状态划分
* 何时归纳为私有状态
* 何时归纳为共享状态

  **情况1：当前状态只被1个组件依赖和影响**
      状态属于组件内部的，只在组件内部产生效果，与其他组件解耦

  **情况2：当前状态只被1个组件依赖和影响**
      某个状态在A组件内部，当改变该状态时候B组件做出相应的形态变化，此时因为B组件依赖在A组件的状态，所以B组件是依赖A组件的，如果这种共享状态多了那么就会有很多的组件依赖于A组件

  所以建议情况1定义私有state，情况2使用redux 管理的共享state

****

## 状态结构
每一个共享State对应一个数据表，扁平化，对象嵌套不要太深，不要和另外一个数据表产生包含关系。
例如从articles(文章)、评论(comments)、用户(users)，那么他们的State应该如下设计

    {
      articles: [{
        id: 1,
        title: 'xxoo',
        content: '舒服舒服'  
      }, {
        id: 2,
        title: 'ldfjk',
        content: '哈哈哈哈'  
      }]
    }

    {
      users: [{
        id: 'a',
        nick: '八级大狂风'
      }]  
    }

    {
      comments: [{
        userId: 'a',
        articleId: 1
        id: 1,
        content: '疯狂大'  
      }]
    }

如果不按扁平化的设计，那么可能是这样的

    {
      articles: [{
        id: 1,
        title: 'xx',
        content: 'ggg',
        comments: [{
          id: 'aaa',
          content: 'popop'    
        }],
        users: [{
          id: 1,
          nick: 'mm'  
        }]    
      }]
    }

如果是这样一个数据表包含其他数据表，那么如果被包含的数据表(user)的nick变化，那么需要遍历所有article对象的user为1修改所有的nick，会执行多次修改操作，容易出错


## 总结
redux的State应该是面向数据表设计的，而不是面对业务的（页面），目的就是为了保持同步，其次是扁平化，减少深层嵌套的易错性，最后应该把state里的增删改查统一封装起来，不必要每次都写这些底层代码
